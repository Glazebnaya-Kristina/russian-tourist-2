!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("@fullcalendar/core")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core"],b):(a=a||self,b(a.FullCalendarDayGrid={},a.FullCalendar))}(this,function(a,b){"use strict";function c(a,b){function c(){this.constructor=a}h(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function d(a,b){var c,d;for(c=0;c<b.length;c++)if(d=b[c],d.firstCol<=a.lastCol&&d.lastCol>=a.firstCol)return!0;return!1}function e(a,b){return a.leftCol-b.leftCol}function f(a,c,d,e){var f=d.dateEnv,g=d.theme,h=b.rangeContainsMarker(c.activeRange,a),i=b.getDayClasses(a,c,d);return i.unshift("fc-day",g.getClass("widgetContent")),'<td class="'+i.join(" ")+'"'+(h?' data-date="'+f.formatIso(a,{omitTime:!0})+'"':"")+(e?" "+e:"")+"></td>"}function g(a,c){var d=new b.DaySeries(a.renderRange,c);return new b.DayTable(d,/year|month|week/.test(a.currentRangeUnit))}var h=function(a,b){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},i=function(){return i=Object.assign||function(a){for(var b,c=1,d=arguments.length;d>c;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a},i.apply(this,arguments)},j=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}return c(d,a),d.prototype.buildRenderRange=function(c,d,e){var f,g=this.dateEnv,h=a.prototype.buildRenderRange.call(this,c,d,e),i=h.start,j=h.end;if(/^(year|month)$/.test(d)&&(i=g.startOfWeek(i),f=g.startOfWeek(j),f.valueOf()!==j.valueOf()&&(j=b.addWeeks(f,1))),this.options.monthMode&&this.options.fixedWeekCount){var k=Math.ceil(b.diffWeeks(i,j));j=b.addWeeks(j,6-k)}return{start:i,end:j}},d}(b.DateProfileGenerator),k=function(){function a(a){var b=this;this.isHidden=!0,this.margin=10,this.documentMousedown=function(a){b.el&&!b.el.contains(a.target)&&b.hide()},this.options=a}return a.prototype.show=function(){this.isHidden&&(this.el||this.render(),this.el.style.display="",this.position(),this.isHidden=!1,this.trigger("show"))},a.prototype.hide=function(){this.isHidden||(this.el.style.display="none",this.isHidden=!0,this.trigger("hide"))},a.prototype.render=function(){var a=this,c=this.options,d=this.el=b.createElement("div",{className:"fc-popover "+(c.className||""),style:{top:"0",left:"0"}});"function"==typeof c.content&&c.content(d),c.parentEl.appendChild(d),b.listenBySelector(d,"click",".fc-close",function(b){a.hide()}),c.autoHide&&document.addEventListener("mousedown",this.documentMousedown)},a.prototype.destroy=function(){this.hide(),this.el&&(b.removeElement(this.el),this.el=null),document.removeEventListener("mousedown",this.documentMousedown)},a.prototype.position=function(){var a,c,d=this.options,e=this.el,f=e.getBoundingClientRect(),g=b.computeRect(e.offsetParent),h=b.computeClippingRect(d.parentEl);a=d.top||0,c=void 0!==d.left?d.left:void 0!==d.right?d.right-f.width:0,a=Math.min(a,h.bottom-f.height-this.margin),a=Math.max(a,h.top+this.margin),c=Math.min(c,h.right-f.width-this.margin),c=Math.max(c,h.left+this.margin),b.applyStyle(e,{top:a-g.top,left:c-g.left})},a.prototype.trigger=function(a){this.options[a]&&this.options[a].apply(this,Array.prototype.slice.call(arguments,1))},a}(),l=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}return c(d,a),d.prototype.renderSegHtml=function(a,c){var d,e,f=this.context,g=f.view,h=f.options,i=a.eventRange,j=i.def,k=i.ui,l=j.allDay,m=g.computeEventDraggable(j,k),n=l&&a.isStart&&g.computeEventStartResizable(j,k),o=l&&a.isEnd&&g.computeEventEndResizable(j,k),p=this.getSegClasses(a,m,n||o,c),q=b.cssToStr(this.getSkinCss(k)),r="";return p.unshift("fc-day-grid-event","fc-h-event"),a.isStart&&(d=this.getTimeText(i),d&&(r='<span class="fc-time">'+b.htmlEscape(d)+"</span>")),e='<span class="fc-title">'+(b.htmlEscape(j.title||"")||"&nbsp;")+"</span>",'<a class="'+p.join(" ")+'"'+(j.url?' href="'+b.htmlEscape(j.url)+'"':"")+(q?' style="'+q+'"':"")+'><div class="fc-content">'+("rtl"===h.dir?e+" "+r:r+" "+e)+"</div>"+(n?'<div class="fc-resizer fc-start-resizer"></div>':"")+(o?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},d.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"}},d.prototype.computeDisplayEventEnd=function(){return!1},d}(b.FgEventRenderer),m=function(a){function f(b){var c=a.call(this,b.context)||this;return c.dayGrid=b,c}return c(f,a),f.prototype.attachSegs=function(a,b){var c=this.rowStructs=this.renderSegRows(a);this.dayGrid.rowEls.forEach(function(a,b){a.querySelector(".fc-content-skeleton > table").appendChild(c[b].tbodyEl)}),b||this.dayGrid.removeSegPopover()},f.prototype.detachSegs=function(){for(var a,c=this.rowStructs||[];a=c.pop();)b.removeElement(a.tbodyEl);this.rowStructs=null},f.prototype.renderSegRows=function(a){var b,c,d=[];for(b=this.groupSegRows(a),c=0;c<b.length;c++)d.push(this.renderSegRow(c,b[c]));return d},f.prototype.renderSegRow=function(a,c){function d(a){for(;a>g;)k=(t[e-1]||[])[g],k?k.rowSpan=(k.rowSpan||1)+1:(k=document.createElement("td"),h.appendChild(k)),s[e][g]=k,t[e][g]=k,g++}var e,f,g,h,i,j,k,l=this.dayGrid,m=l.colCnt,n=l.isRtl,o=this.buildSegLevels(c),p=Math.max(1,o.length),q=document.createElement("tbody"),r=[],s=[],t=[];for(e=0;p>e;e++){if(f=o[e],g=0,h=document.createElement("tr"),r.push([]),s.push([]),t.push([]),f)for(i=0;i<f.length;i++){j=f[i];var u=n?m-1-j.lastCol:j.firstCol,v=n?m-1-j.firstCol:j.lastCol;for(d(u),k=b.createElement("td",{className:"fc-event-container"},j.el),u!==v?k.colSpan=v-u+1:t[e][g]=k;v>=g;)s[e][g]=k,r[e][g]=j,g++;h.appendChild(k)}d(m);var w=l.renderProps.renderIntroHtml();w&&(l.isRtl?b.appendToElement(h,w):b.prependToElement(h,w)),q.appendChild(h)}return{row:a,tbodyEl:q,cellMatrix:s,segMatrix:r,segLevels:o,segs:c}},f.prototype.buildSegLevels=function(a){var b,c,f,g=this.dayGrid,h=g.isRtl,i=g.colCnt,j=[];for(a=this.sortEventSegs(a),b=0;b<a.length;b++){for(c=a[b],f=0;f<j.length&&d(c,j[f]);f++);c.level=f,c.leftCol=h?i-1-c.lastCol:c.firstCol,c.rightCol=h?i-1-c.firstCol:c.lastCol,(j[f]||(j[f]=[])).push(c)}for(f=0;f<j.length;f++)j[f].sort(e);return j},f.prototype.groupSegRows=function(a){var b,c=[];for(b=0;b<this.dayGrid.rowCnt;b++)c.push([]);for(b=0;b<a.length;b++)c[a[b].row].push(a[b]);return c},f.prototype.computeDisplayEventEnd=function(){return 1===this.dayGrid.colCnt},f}(l),n=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}return c(d,a),d.prototype.attachSegs=function(a,c){var d=c.sourceSeg,e=this.rowStructs=this.renderSegRows(a);this.dayGrid.rowEls.forEach(function(a,c){var f,g,h=b.htmlToElement('<div class="fc-mirror-skeleton"><table></table></div>');d&&d.row===c?f=d.el:(f=a.querySelector(".fc-content-skeleton tbody"),f||(f=a.querySelector(".fc-content-skeleton table"))),g=f.getBoundingClientRect().top-a.getBoundingClientRect().top,h.style.top=g+"px",h.querySelector("table").appendChild(e[c].tbodyEl),a.appendChild(h)})},d}(m),o='<td style="pointer-events:none"></td>',p=function(a){function d(b){var c=a.call(this,b.context)||this;return c.fillSegTag="td",c.dayGrid=b,c}return c(d,a),d.prototype.renderSegs=function(b,c){"bgEvent"===b&&(c=c.filter(function(a){return a.eventRange.def.allDay})),a.prototype.renderSegs.call(this,b,c)},d.prototype.attachSegs=function(a,b){var c,d,e,f=[];for(c=0;c<b.length;c++)d=b[c],e=this.renderFillRow(a,d),this.dayGrid.rowEls[d.row].appendChild(e),f.push(e);return f},d.prototype.renderFillRow=function(a,c){var d,e,f,g=this.dayGrid,h=g.colCnt,i=g.isRtl,j=i?h-1-c.lastCol:c.firstCol,k=i?h-1-c.firstCol:c.lastCol,l=j,m=k+1;d="businessHours"===a?"bgevent":a.toLowerCase(),e=b.htmlToElement('<div class="fc-'+d+'-skeleton"><table><tr></tr></table></div>'),f=e.getElementsByTagName("tr")[0],l>0&&b.appendToElement(f,new Array(l+1).join(o)),c.el.colSpan=m-l,f.appendChild(c.el),h>m&&b.appendToElement(f,new Array(h-m+1).join(o));var n=g.renderProps.renderIntroHtml();return n&&(g.isRtl?b.appendToElement(f,n):b.prependToElement(f,n)),e},d}(b.FillRenderer),q=function(a){function d(c,d){var e=a.call(this,c,d)||this,f=e.eventRenderer=new r(e),g=e.renderFrame=b.memoizeRendering(e._renderFrame);return e.renderFgEvents=b.memoizeRendering(f.renderSegs.bind(f),f.unrender.bind(f),[g]),e.renderEventSelection=b.memoizeRendering(f.selectByInstanceId.bind(f),f.unselectByInstanceId.bind(f),[e.renderFgEvents]),e.renderEventDrag=b.memoizeRendering(f.hideByHash.bind(f),f.showByHash.bind(f),[g]),e.renderEventResize=b.memoizeRendering(f.hideByHash.bind(f),f.showByHash.bind(f),[g]),c.calendar.registerInteractiveComponent(e,{el:e.el,useEventCenter:!1}),e}return c(d,a),d.prototype.render=function(a){this.renderFrame(a.date),this.renderFgEvents(a.fgSegs),this.renderEventSelection(a.eventSelection),this.renderEventDrag(a.eventDragInstances),this.renderEventResize(a.eventResizeInstances)},d.prototype.destroy=function(){a.prototype.destroy.call(this),this.renderFrame.unrender(),this.calendar.unregisterInteractiveComponent(this)},d.prototype._renderFrame=function(a){var c=this,d=c.theme,e=c.dateEnv,f=e.format(a,b.createFormatter(this.opt("dayPopoverFormat")));this.el.innerHTML='<div class="fc-header '+d.getClass("popoverHeader")+'"><span class="fc-title">'+b.htmlEscape(f)+'</span><span class="fc-close '+d.getIconClass("close")+'"></span></div><div class="fc-body '+d.getClass("popoverContent")+'"><div class="fc-event-container"></div></div>',this.segContainerEl=this.el.querySelector(".fc-event-container")},d.prototype.queryHit=function(a,c,d,e){var f=this.props.date;return d>a&&e>c?{component:this,dateSpan:{allDay:!0,range:{start:f,end:b.addDays(f,1)}},dayEl:this.el,rect:{left:0,top:0,right:d,bottom:e},layer:1}:void 0},d}(b.DateComponent),r=function(a){function d(b){var c=a.call(this,b.context)||this;return c.dayTile=b,c}return c(d,a),d.prototype.attachSegs=function(a){for(var b=0,c=a;b<c.length;b++){var d=c[b];this.dayTile.segContainerEl.appendChild(d.el)}},d.prototype.detachSegs=function(a){for(var c=0,d=a;c<d.length;c++){var e=d[c];b.removeElement(e.el)}},d}(l),s=function(){function a(a){this.context=a}return a.prototype.renderHtml=function(a){var b=[];a.renderIntroHtml&&b.push(a.renderIntroHtml());for(var c=0,d=a.cells;c<d.length;c++){var e=d[c];b.push(f(e.date,a.dateProfile,this.context,e.htmlAttrs))}return a.cells.length||b.push('<td class="fc-day '+this.context.theme.getClass("widgetContent")+'"></td>'),"rtl"===this.context.options.dir&&b.reverse(),"<tr>"+b.join("")+"</tr>"},a}(),t=b.createFormatter({day:"numeric"}),u=b.createFormatter({week:"numeric"}),v=function(a){function d(c,d,e){var f=a.call(this,c,d)||this;f.bottomCoordPadding=0,f.isCellSizesDirty=!1;var g=f.eventRenderer=new m(f),h=f.fillRenderer=new p(f);f.mirrorRenderer=new n(f);var i=f.renderCells=b.memoizeRendering(f._renderCells,f._unrenderCells);return f.renderBusinessHours=b.memoizeRendering(h.renderSegs.bind(h,"businessHours"),h.unrender.bind(h,"businessHours"),[i]),f.renderDateSelection=b.memoizeRendering(h.renderSegs.bind(h,"highlight"),h.unrender.bind(h,"highlight"),[i]),f.renderBgEvents=b.memoizeRendering(h.renderSegs.bind(h,"bgEvent"),h.unrender.bind(h,"bgEvent"),[i]),f.renderFgEvents=b.memoizeRendering(g.renderSegs.bind(g),g.unrender.bind(g),[i]),f.renderEventSelection=b.memoizeRendering(g.selectByInstanceId.bind(g),g.unselectByInstanceId.bind(g),[f.renderFgEvents]),f.renderEventDrag=b.memoizeRendering(f._renderEventDrag,f._unrenderEventDrag,[i]),f.renderEventResize=b.memoizeRendering(f._renderEventResize,f._unrenderEventResize,[i]),f.renderProps=e,f}return c(d,a),d.prototype.render=function(a){var b=a.cells;this.rowCnt=b.length,this.colCnt=b[0].length,this.renderCells(b,a.isRigid),this.renderBusinessHours(a.businessHourSegs),this.renderDateSelection(a.dateSelectionSegs),this.renderBgEvents(a.bgEventSegs),this.renderFgEvents(a.fgEventSegs),this.renderEventSelection(a.eventSelection),this.renderEventDrag(a.eventDrag),this.renderEventResize(a.eventResize),this.segPopoverTile&&this.updateSegPopoverTile()},d.prototype.destroy=function(){a.prototype.destroy.call(this),this.renderCells.unrender()},d.prototype.getCellRange=function(a,c){var d=this.props.cells[a][c].date,e=b.addDays(d,1);return{start:d,end:e}},d.prototype.updateSegPopoverTile=function(a,b){var c=this.props;this.segPopoverTile.receiveProps({date:a||this.segPopoverTile.props.date,fgSegs:b||this.segPopoverTile.props.fgSegs,eventSelection:c.eventSelection,eventDragInstances:c.eventDrag?c.eventDrag.affectedInstances:null,eventResizeInstances:c.eventResize?c.eventResize.affectedInstances:null})},d.prototype._renderCells=function(a,c){var d,e,f=this,g=f.view,h=f.dateEnv,i=this,j=i.rowCnt,k=i.colCnt,l="";for(d=0;j>d;d++)l+=this.renderDayRowHtml(d,c);for(this.el.innerHTML=l,this.rowEls=b.findElements(this.el,".fc-row"),this.cellEls=b.findElements(this.el,".fc-day, .fc-disabled-day"),this.isRtl&&this.cellEls.reverse(),this.rowPositions=new b.PositionCache(this.el,this.rowEls,!1,!0),this.colPositions=new b.PositionCache(this.el,this.cellEls.slice(0,k),!0,!1),d=0;j>d;d++)for(e=0;k>e;e++)this.publiclyTrigger("dayRender",[{date:h.toDate(a[d][e].date),el:this.getCellEl(d,e),view:g}]);this.isCellSizesDirty=!0},d.prototype._unrenderCells=function(){this.removeSegPopover()},d.prototype.renderDayRowHtml=function(a,b){var c=this.theme,d=["fc-row","fc-week",c.getClass("dayRow")];b&&d.push("fc-rigid");var e=new s(this.context);return'<div class="'+d.join(" ")+'"><div class="fc-bg"><table class="'+c.getClass("tableGrid")+'">'+e.renderHtml({cells:this.props.cells[a],dateProfile:this.props.dateProfile,renderIntroHtml:this.renderProps.renderBgIntroHtml})+'</table></div><div class="fc-content-skeleton"><table>'+(this.getIsNumbersVisible()?"<thead>"+this.renderNumberTrHtml(a)+"</thead>":"")+"</table></div></div>"},d.prototype.getIsNumbersVisible=function(){return this.getIsDayNumbersVisible()||this.renderProps.cellWeekNumbersVisible||this.renderProps.colWeekNumbersVisible},d.prototype.getIsDayNumbersVisible=function(){return this.rowCnt>1},d.prototype.renderNumberTrHtml=function(a){var b=this.renderProps.renderNumberIntroHtml(a,this);return"<tr>"+(this.isRtl?"":b)+this.renderNumberCellsHtml(a)+(this.isRtl?b:"")+"</tr>"},d.prototype.renderNumberCellsHtml=function(a){var b,c,d=[];for(b=0;b<this.colCnt;b++)c=this.props.cells[a][b].date,d.push(this.renderNumberCellHtml(c));return this.isRtl&&d.reverse(),d.join("")},d.prototype.renderNumberCellHtml=function(a){var c,d,e=this,f=e.view,g=e.dateEnv,h="",i=b.rangeContainsMarker(this.props.dateProfile.activeRange,a),j=this.getIsDayNumbersVisible()&&i;return j||this.renderProps.cellWeekNumbersVisible?(c=b.getDayClasses(a,this.props.dateProfile,this.context),c.unshift("fc-day-top"),this.renderProps.cellWeekNumbersVisible&&(d=g.weekDow),h+='<td class="'+c.join(" ")+'"'+(i?' data-date="'+g.formatIso(a,{omitTime:!0})+'"':"")+">",this.renderProps.cellWeekNumbersVisible&&a.getUTCDay()===d&&(h+=b.buildGotoAnchorHtml(f,{date:a,type:"week"},{"class":"fc-week-number"},g.format(a,u))),j&&(h+=b.buildGotoAnchorHtml(f,a,{"class":"fc-day-number"},g.format(a,t))),h+="</td>"):"<td></td>"},d.prototype.updateSize=function(a){var b=this,c=b.fillRenderer,d=b.eventRenderer,e=b.mirrorRenderer;(a||this.isCellSizesDirty||this.view.calendar.isEventsUpdated)&&(this.buildPositionCaches(),this.isCellSizesDirty=!1),c.computeSizes(a),d.computeSizes(a),e.computeSizes(a),c.assignSizes(a),d.assignSizes(a),e.assignSizes(a)},d.prototype.buildPositionCaches=function(){this.buildColPositions(),this.buildRowPositions()},d.prototype.buildColPositions=function(){this.colPositions.build()},d.prototype.buildRowPositions=function(){this.rowPositions.build(),this.rowPositions.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},d.prototype.positionToHit=function(a,b){var c=this,d=c.colPositions,e=c.rowPositions,f=d.leftToIndex(a),g=e.topToIndex(b);return null!=g&&null!=f?{row:g,col:f,dateSpan:{range:this.getCellRange(g,f),allDay:!0},dayEl:this.getCellEl(g,f),relativeRect:{left:d.lefts[f],right:d.rights[f],top:e.tops[g],bottom:e.bottoms[g]}}:void 0},d.prototype.getCellEl=function(a,b){return this.cellEls[a*this.colCnt+b]},d.prototype._renderEventDrag=function(a){a&&(this.eventRenderer.hideByHash(a.affectedInstances),this.fillRenderer.renderSegs("highlight",a.segs))},d.prototype._unrenderEventDrag=function(a){a&&(this.eventRenderer.showByHash(a.affectedInstances),this.fillRenderer.unrender("highlight"))},d.prototype._renderEventResize=function(a){a&&(this.eventRenderer.hideByHash(a.affectedInstances),this.fillRenderer.renderSegs("highlight",a.segs),this.mirrorRenderer.renderSegs(a.segs,{isResizing:!0,sourceSeg:a.sourceSeg}))},d.prototype._unrenderEventResize=function(a){a&&(this.eventRenderer.showByHash(a.affectedInstances),this.fillRenderer.unrender("highlight"),this.mirrorRenderer.unrender(a.segs,{isResizing:!0,sourceSeg:a.sourceSeg}))},d.prototype.removeSegPopover=function(){this.segPopover&&this.segPopover.hide()},d.prototype.limitRows=function(a){var b,c,d=this.eventRenderer.rowStructs||[];for(b=0;b<d.length;b++)this.unlimitRow(b),c=a?"number"==typeof a?a:this.computeRowLevelLimit(b):!1,c!==!1&&this.limitRow(b,c)},d.prototype.computeRowLevelLimit=function(a){var c,d,e=this.rowEls[a],f=e.getBoundingClientRect().bottom,g=b.findChildren(this.eventRenderer.rowStructs[a].tbodyEl);for(c=0;c<g.length;c++)if(d=g[c],d.classList.remove("fc-limited"),d.getBoundingClientRect().bottom>f)return c;return!1},d.prototype.limitRow=function(a,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=this,t=this,u=t.colCnt,v=t.isRtl,w=this.eventRenderer.rowStructs[a],x=[],y=0,z=function(d){for(;d>y;)i=s.getCellSegs(a,y,c),i.length&&(l=e[c-1][y],r=s.renderMoreLink(a,y,i),q=b.createElement("div",null,r),l.appendChild(q),x.push(q)),y++};if(c&&c<w.segLevels.length){for(d=w.segLevels[c-1],e=w.cellMatrix,f=b.findChildren(w.tbodyEl).slice(c),f.forEach(function(a){a.classList.add("fc-limited")}),g=0;g<d.length;g++){h=d[g];var A=v?u-1-h.lastCol:h.firstCol,B=v?u-1-h.firstCol:h.lastCol;for(z(A),k=[],j=0;B>=y;)i=this.getCellSegs(a,y,c),k.push(i),j+=i.length,y++;if(j){for(l=e[c-1][A],m=l.rowSpan||1,n=[],o=0;o<k.length;o++)p=b.createElement("td",{className:"fc-more-cell",rowSpan:m}),i=k[o],r=this.renderMoreLink(a,A+o,[h].concat(i)),q=b.createElement("div",null,r),p.appendChild(q),n.push(p),x.push(p);l.classList.add("fc-limited"),b.insertAfterElement(l,n),f.push(l)}}z(this.colCnt),w.moreEls=x,w.limitedEls=f}},d.prototype.unlimitRow=function(a){var c=this.eventRenderer.rowStructs[a];c.moreEls&&(c.moreEls.forEach(b.removeElement),c.moreEls=null),c.limitedEls&&(c.limitedEls.forEach(function(a){a.classList.remove("fc-limited")}),c.limitedEls=null)},d.prototype.renderMoreLink=function(a,c,d){var e=this,f=this,g=f.view,h=f.dateEnv,i=b.createElement("a",{className:"fc-more"});return i.innerText=this.getMoreLinkText(d.length),i.addEventListener("click",function(b){var f=e.opt("eventLimitClick"),i=e.isRtl?e.colCnt-c-1:c,j=e.props.cells[a][i].date,k=b.currentTarget,l=e.getCellEl(a,c),m=e.getCellSegs(a,c),n=e.resliceDaySegs(m,j),o=e.resliceDaySegs(d,j);"function"==typeof f&&(f=e.publiclyTrigger("eventLimitClick",[{date:h.toDate(j),allDay:!0,dayEl:l,moreEl:k,segs:n,hiddenSegs:o,jsEvent:b,view:g}])),"popover"===f?e.showSegPopover(a,c,k,n):"string"==typeof f&&g.calendar.zoomTo(j,f)}),i},d.prototype.showSegPopover=function(a,c,d,e){var f,g,h=this,i=this,j=i.calendar,l=i.view,m=i.theme,n=this.isRtl?this.colCnt-c-1:c,o=d.parentNode;f=1===this.rowCnt?l.el:this.rowEls[a],g={className:"fc-more-popover "+m.getClass("popover"),parentEl:l.el,top:b.computeRect(f).top,autoHide:!0,content:function(b){h.segPopoverTile=new q(h.context,b),h.updateSegPopoverTile(h.props.cells[a][n].date,e)},hide:function(){h.segPopoverTile.destroy(),h.segPopoverTile=null,h.segPopover.destroy(),h.segPopover=null}},this.isRtl?g.right=b.computeRect(o).right+1:g.left=b.computeRect(o).left-1,this.segPopover=new k(g),this.segPopover.show(),j.releaseAfterSizingTriggers()},d.prototype.resliceDaySegs=function(a,c){for(var d=c,e=b.addDays(d,1),f={start:d,end:e},g=[],h=0,j=a;h<j.length;h++){var k=j[h],l=k.eventRange,m=l.range,n=b.intersectRanges(m,f);n&&g.push(i({},k,{eventRange:{def:l.def,ui:i({},l.ui,{durationEditable:!1}),instance:l.instance,range:n},isStart:k.isStart&&n.start.valueOf()===m.start.valueOf(),isEnd:k.isEnd&&n.end.valueOf()===m.end.valueOf()}))}return g},d.prototype.getMoreLinkText=function(a){var b=this.opt("eventLimitText");return"function"==typeof b?b(a):"+"+a+" "+b},d.prototype.getCellSegs=function(a,b,c){for(var d,e=this.eventRenderer.rowStructs[a].segMatrix,f=c||0,g=[];f<e.length;)d=e[f][b],d&&g.push(d),f++;return g},d}(b.DateComponent),w=b.createFormatter({week:"numeric"}),x=function(a){function d(c,d,e,f){var g=a.call(this,c,d,e,f)||this;g.renderHeadIntroHtml=function(){var a=g.theme;return g.colWeekNumbersVisible?'<th class="fc-week-number '+a.getClass("widgetHeader")+'" '+g.weekNumberStyleAttr()+"><span>"+b.htmlEscape(g.opt("weekLabel"))+"</span></th>":""},g.renderDayGridNumberIntroHtml=function(a,c){var d=g.dateEnv,e=c.props.cells[a][0].date;return g.colWeekNumbersVisible?'<td class="fc-week-number" '+g.weekNumberStyleAttr()+">"+b.buildGotoAnchorHtml(g,{date:e,type:"week",forceOff:1===c.colCnt},d.format(e,w))+"</td>":""},g.renderDayGridBgIntroHtml=function(){var a=g.theme;return g.colWeekNumbersVisible?'<td class="fc-week-number '+a.getClass("widgetContent")+'" '+g.weekNumberStyleAttr()+"></td>":""},g.renderDayGridIntroHtml=function(){return g.colWeekNumbersVisible?'<td class="fc-week-number" '+g.weekNumberStyleAttr()+"></td>":""},g.el.classList.add("fc-dayGrid-view"),g.el.innerHTML=g.renderSkeletonHtml(),g.scroller=new b.ScrollComponent("hidden","auto");var h=g.scroller.el;g.el.querySelector(".fc-body > tr > td").appendChild(h),h.classList.add("fc-day-grid-container");var i=b.createElement("div",{className:"fc-day-grid"});h.appendChild(i);var j;return g.opt("weekNumbers")?g.opt("weekNumbersWithinDays")?(j=!0,g.colWeekNumbersVisible=!1):(j=!1,g.colWeekNumbersVisible=!0):(g.colWeekNumbersVisible=!1,j=!1),g.dayGrid=new v(g.context,i,{renderNumberIntroHtml:g.renderDayGridNumberIntroHtml,renderBgIntroHtml:g.renderDayGridBgIntroHtml,renderIntroHtml:g.renderDayGridIntroHtml,colWeekNumbersVisible:g.colWeekNumbersVisible,cellWeekNumbersVisible:j}),g}return c(d,a),d.prototype.destroy=function(){a.prototype.destroy.call(this),this.dayGrid.destroy(),this.scroller.destroy()},d.prototype.renderSkeletonHtml=function(){var a=this.theme;return'<table class="'+a.getClass("tableGrid")+'">'+(this.opt("columnHeader")?'<thead class="fc-head"><tr><td class="fc-head-container '+a.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+a.getClass("widgetContent")+'"></td></tr></tbody></table>'},d.prototype.weekNumberStyleAttr=function(){return null!=this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},d.prototype.hasRigidRows=function(){var a=this.opt("eventLimit");return a&&"number"!=typeof a},d.prototype.updateSize=function(b,c,d){a.prototype.updateSize.call(this,b,c,d),this.dayGrid.updateSize(b)},d.prototype.updateBaseSize=function(a,c,d){var e,f,g=this.dayGrid,h=this.opt("eventLimit"),i=this.header?this.header.el:null;return g.rowEls?(this.colWeekNumbersVisible&&(this.weekNumberWidth=b.matchCellWidths(b.findElements(this.el,".fc-week-number"))),this.scroller.clear(),i&&b.uncompensateScroll(i),g.removeSegPopover(),h&&"number"==typeof h&&g.limitRows(h),e=this.computeScrollerHeight(c),this.setGridHeight(e,d),h&&"number"!=typeof h&&g.limitRows(h),void(d||(this.scroller.setHeight(e),f=this.scroller.getScrollbarWidths(),(f.left||f.right)&&(i&&b.compensateScroll(i,f),e=this.computeScrollerHeight(c),this.scroller.setHeight(e)),this.scroller.lockOverflow(f)))):void(d||(e=this.computeScrollerHeight(c),this.scroller.setHeight(e)))},d.prototype.computeScrollerHeight=function(a){return a-b.subtractInnerElHeight(this.el,this.scroller.el)},d.prototype.setGridHeight=function(a,c){this.opt("monthMode")?(c&&(a*=this.dayGrid.rowCnt/6),b.distributeHeight(this.dayGrid.rowEls,a,!c)):c?b.undistributeHeight(this.dayGrid.rowEls):b.distributeHeight(this.dayGrid.rowEls,a,!0)},d.prototype.computeDateScroll=function(a){return{top:0}},d.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},d.prototype.applyDateScroll=function(a){void 0!==a.top&&this.scroller.setScrollTop(a.top)},d}(b.View);x.prototype.dateProfileGeneratorClass=j;var y=function(a){function b(b,c){var d=a.call(this,b,c.el)||this;return d.slicer=new z,d.dayGrid=c,b.calendar.registerInteractiveComponent(d,{el:d.dayGrid.el}),d}return c(b,a),b.prototype.destroy=function(){a.prototype.destroy.call(this),this.calendar.unregisterInteractiveComponent(this)},b.prototype.render=function(a){var b=this.dayGrid,c=a.dateProfile,d=a.dayTable;b.receiveProps(i({},this.slicer.sliceProps(a,c,a.nextDayThreshold,b,d),{dateProfile:c,cells:d.cells,isRigid:a.isRigid}))},b.prototype.buildPositionCaches=function(){this.dayGrid.buildPositionCaches()},b.prototype.queryHit=function(a,b){var c=this.dayGrid.positionToHit(a,b);return c?{component:this.dayGrid,dateSpan:c.dateSpan,dayEl:c.dayEl,rect:{left:c.relativeRect.left,right:c.relativeRect.right,top:c.relativeRect.top,bottom:c.relativeRect.bottom},layer:0}:void 0},b}(b.DateComponent),z=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return c(b,a),b.prototype.sliceRange=function(a,b){return b.sliceRange(a)},b}(b.Slicer),A=function(a){function d(c,d,e,f){var h=a.call(this,c,d,e,f)||this;return h.buildDayTable=b.memoize(g),h.opt("columnHeader")&&(h.header=new b.DayHeader(h.context,h.el.querySelector(".fc-head-container"))),h.simpleDayGrid=new y(h.context,h.dayGrid),h}return c(d,a),d.prototype.destroy=function(){a.prototype.destroy.call(this),this.header&&this.header.destroy(),this.simpleDayGrid.destroy()},d.prototype.render=function(b){a.prototype.render.call(this,b);var c=this.props.dateProfile,d=this.dayTable=this.buildDayTable(c,this.dateProfileGenerator);this.header&&this.header.receiveProps({dateProfile:c,dates:d.headerDates,datesRepDistinctDays:1===d.rowCnt,renderIntroHtml:this.renderHeadIntroHtml}),this.simpleDayGrid.receiveProps({dateProfile:c,dayTable:d,businessHours:b.businessHours,dateSelection:b.dateSelection,eventStore:b.eventStore,eventUiBases:b.eventUiBases,eventSelection:b.eventSelection,eventDrag:b.eventDrag,eventResize:b.eventResize,isRigid:this.hasRigidRows(),nextDayThreshold:this.nextDayThreshold})},d}(x),B=b.createPlugin({defaultView:"dayGridMonth",views:{dayGrid:A,dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});a.AbstractDayGridView=x,a.DayBgRow=s,a.DayGrid=v,a.DayGridSlicer=z,a.DayGridView=A,a.SimpleDayGrid=y,a.buildBasicDayTable=g,a["default"]=B,Object.defineProperty(a,"__esModule",{value:!0})});